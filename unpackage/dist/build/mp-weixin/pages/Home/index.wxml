<view class="container"><swiper class="swiper-box" indicator-active-color="#ffffff" indicator-dots="{{true}}" autoplay="{{true}}"><block wx:for="{{banners}}" wx:for-item="item" wx:for-index="index" wx:key="index"><swiper-item><image class="swiper-image" src="{{item.banner_image_img}}" mode="aspectFit" data-event-opts="{{[['tap',[['navigation',['$0','$1'],[[['banners','',index,'banner_rule']],[['banners','',index,'banner_parame']]]]]]]}}" bindtap="__e"></image></swiper-item></block></swiper><u-sticky vue-id="e217c72a-1" bind:__l="__l" vue-slots="{{['default']}}"><view class="app-options"><view data-event-opts="{{[['tap',[['currentChnage',[0]]]]]}}" class="{{['app-options-item',(current===0)?'active':'']}}" bindtap="__e"><text>悬赏任务</text></view><view data-event-opts="{{[['tap',[['currentChnage',[1]]]]]}}" class="{{['app-options-item',(current===1)?'active':'']}}" bindtap="__e"><text>附近活动</text></view><view data-event-opts="{{[['tap',[['currentMap',[2]]]]]}}" class="{{['app-options-item',(current===2)?'active':'']}}" bindtap="__e"><text>活动地图</text></view></view></u-sticky><view class="app-box"><view hidden="{{!(current===0)}}" class="app-box-task"><view class="task-options"><view data-event-opts="{{[['tap',[['taskSortChange',[1]]]]]}}" class="{{['task-options-item',(taskParams.sorts===1)?'active':'']}}" bindtap="__e"><text>最新悬赏</text></view><view data-event-opts="{{[['tap',[['taskSortChange',[2]]]]]}}" class="{{['task-options-item',(taskParams.sorts===2)?'active':'']}}" bindtap="__e"><text>高价悬赏</text></view><view data-event-opts="{{[['tap',[['taskSortChange',[3]]]]]}}" class="{{['task-options-item',(taskParams.sorts===3)?'active':'']}}" bindtap="__e"><text>低价悬赏</text></view></view><view class="task-box"><block wx:if="{{tasksList.length>0}}"><block><block wx:for="{{tasksList}}" wx:for-item="item" wx:for-index="index" wx:key="task_id"><task-item vue-id="{{'e217c72a-2-'+index}}" context="{{item}}" data-event-opts="{{[['^onLogin',[['e0']]]]}}" bind:onLogin="__e" bind:__l="__l"></task-item></block><block wx:if="{{taskList.length>3}}"><u-loadmore vue-id="e217c72a-3" status="{{tasksStatus}}" margin-top="30" color="#999" margin-bottom="30" load-text="{{loadText}}" bind:__l="__l"></u-loadmore></block></block></block><block wx:else><block><z-empty vue-id="e217c72a-4" text="暂无悬赏任务~" bind:__l="__l"></z-empty></block></block></view></view><view hidden="{{!(current===1)}}" class="app-box-activity"><block wx:if="{{eventList.length>0}}"><block><block wx:for="{{eventList}}" wx:for-item="item" wx:for-index="index" wx:key="id"><task-activity vue-id="{{'e217c72a-5-'+index}}" type="1" detail="{{item}}" data-event-opts="{{[['^receive',[['eventReceive']]],['^login',[['e1']]]]}}" bind:receive="__e" bind:login="__e" bind:__l="__l"></task-activity></block><block wx:if="{{eventList.length>2}}"><u-loadmore vue-id="e217c72a-6" status="{{eventStatus}}" margin-top="30" color="#999" margin-bottom="30" load-text="{{loadText}}" bind:__l="__l"></u-loadmore></block></block></block><block wx:else><block><z-empty vue-id="e217c72a-7" text="附近暂没有活动~" bind:__l="__l"></z-empty></block></block></view><block wx:if="{{current===2}}"><view class="app-box-map"><map class="map" scale="19" enable-building="{{false}}" enable-zoom="{{true}}" show-location="{{true}}" longitude="{{longitude}}" latitude="{{latitude}}" markers="{{markers}}" data-event-opts="{{[['callouttap',[['calloutChange',['$event']]]]]}}" bindcallouttap="__e"><cover-view slot="callout"><block wx:for="{{markers}}" wx:for-item="item" wx:for-index="index" wx:key="id"><cover-view class="{{['map-markers',(item.type==1)?'bg-1':'',(item.type==2)?'bg-2':'',(item.type==3)?'bg-3':'']}}" marker-id="{{item.id}}"><cover-image class="map-markers-img" src="{{item.info.info_image[0].abs_url}}"></cover-image><cover-view class="map-markers-box"><cover-view class="map-markers-title">{{item.info.info_name}}</cover-view><block wx:if="{{item.type==1}}"><cover-view class="map-markers-text">{{"红包金额：￥"+item.info.info_moeny}}</cover-view></block><block wx:if="{{item.type==2}}"><cover-view class="map-markers-text">{{"红包金额：￥"+item.info.info_moeny}}</cover-view></block><block wx:if="{{item.type==3}}"><cover-view class="map-markers-text">{{item.info.info_moeny}}</cover-view></block></cover-view><cover-image class="map-markers-icon" src="/static/icon/arr-right.png"></cover-image></cover-view></block></cover-view></map></view></block><view hidden="{{!(isLoading)}}" class="app-loading"><u-loading vue-id="e217c72a-8" size="60" mode="circle" color="#FA7F1A" bind:__l="__l"></u-loading></view></view><u-popup bind:input="__e" vue-id="e217c72a-9" mode="center" border-radius="20" value="{{isShow}}" data-event-opts="{{[['^input',[['__set_model',['','isShow','$event',[]]]]]]}}" bind:__l="__l" vue-slots="{{['default']}}"><view class="popup-model"><view class="popup-model-title"><text>提示</text></view><view class="popup-model-context">您还未登录，请登录后操作</view><view class="popup-model-btn"><view data-event-opts="{{[['tap',[['goLogin',['$event']]]]]}}" class="btn-item defalut-btn" bindtap="__e">立即登录</view><view data-event-opts="{{[['tap',[['e2',['$event']]]]]}}" class="btn-item btn-close" bindtap="__e">取消</view></view></view></u-popup><u-popup bind:input="__e" vue-id="e217c72a-10" mode="center" border-radius="20" value="{{isAddress}}" data-event-opts="{{[['^input',[['__set_model',['','isAddress','$event',[]]]]]]}}" bind:__l="__l" vue-slots="{{['default']}}"><view class="popup-model"><view class="popup-model-title"><text>提示</text></view><view class="popup-model-context">您还未授权地理信息位置,请授权</view><view class="popup-model-btn"><view data-event-opts="{{[['tap',[['goAddress',['$event']]]]]}}" class="btn-item defalut-btn" bindtap="__e">去授权</view><view data-event-opts="{{[['tap',[['e3',['$event']]]]]}}" class="btn-item btn-close" bindtap="__e">取消</view></view></view></u-popup><u-popup bind:input="__e" vue-id="e217c72a-11" mode="center" mask-close-able="{{false}}" border-radius="20" value="{{isOpen}}" data-event-opts="{{[['^input',[['__set_model',['','isOpen','$event',[]]]]]]}}" bind:__l="__l" vue-slots="{{['default']}}"><view class="popup-model"><view class="popup-model-title"><text>恭喜获得</text></view><view class="popup-model-context"><view class="popup-model-price"><text class="price">{{reward.members_moeny}}</text><text class="params">元</text></view><block wx:if="{{reward.moeny}}"><view class="popup-model-text">{{'推荐人获得 ￥'+reward.moeny+''}}</view></block></view><view data-event-opts="{{[['tap',[['e4',['$event']]]]]}}" class="defalut-btn popup-model-define" bindtap="__e">知道了</view></view></u-popup><u-top-tips class="vue-ref" vue-id="e217c72a-12" data-ref="uTips" bind:__l="__l"></u-top-tips></view>