(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/Profile/index"],{"0f06":function(n,t,e){"use strict";e.r(t);var o=e("7b56"),i=e.n(o);for(var u in o)"default"!==u&&function(n){e.d(t,n,(function(){return o[n]}))}(u);t["default"]=i.a},"10df":function(n,t,e){"use strict";e.d(t,"b",(function(){return i})),e.d(t,"c",(function(){return u})),e.d(t,"a",(function(){return o}));var o={uImage:function(){return e.e("uview-ui/components/u-image/u-image").then(e.bind(null,"fe06"))},uPopup:function(){return e.e("uview-ui/components/u-popup/u-popup").then(e.bind(null,"7b61"))}},i=function(){var n=this,t=n.$createElement,e=(n._self._c,Object.keys(n.userInfo)),o=Object.keys(n.userInfo);n._isMounted||(n.e0=function(t){n.isShow=!0},n.e1=function(t){n.isShow=!0},n.e2=function(t){n.isShow=!1}),n.$mp.data=Object.assign({},{$root:{g0:e,g1:o}})},u=[]},"55d4":function(n,t,e){},"721b":function(n,t,e){"use strict";(function(n){e("fcfa");o(e("66fd"));var t=o(e("bc71"));function o(n){return n&&n.__esModule?n:{default:n}}n(t.default)}).call(this,e("543d")["createPage"])},"7b56":function(n,t,e){"use strict";(function(n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=u(e("a34a")),i=e("e462");function u(n){return n&&n.__esModule?n:{default:n}}function s(n,t,e,o,i,u,s){try{var r=n[u](s),a=r.value}catch(c){return void e(c)}r.done?t(a):Promise.resolve(a).then(o,i)}function r(n){return function(){var t=this,e=arguments;return new Promise((function(o,i){var u=n.apply(t,e);function r(n){s(u,o,i,r,a,"next",n)}function a(n){s(u,o,i,r,a,"throw",n)}r(void 0)}))}}var a={data:function(){return{isShow:!1,isLogin:!1,m_id:"",userInfo:{}}},onLoad:function(){n.showLoading({title:"加载中..."})},onShow:function(){var t=this;this.m_id=n.getStorageSync("m_id"),""!==this.m_id&&this.getMemberInfo(),n.$on("drop_out",(function(){t.m_id="",t.isLogin=!1,t.userInfo={}})),n.hideLoading()},methods:{getMemberInfo:function(){var t=this;return r(o.default.mark((function e(){var u;return o.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,i.getUserInfo)(t.m_id);case 3:u=e.sent,t.userInfo=u,t.isLogin=!0,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),n.showToast({title:e.t0,icon:"none",success:function(){n.removeStorageSync("m_id"),t.userInfo={}}});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},router:function(t,e){var o=n.getStorageSync("m_id");if(""===o||void 0===o)return this.isShow=!0;if(this.userInfo.duiyuan&&1==this.userInfo.duiyuan&&!e)return n.showToast({title:"队员无此权限",icon:"none"});var i=this.userInfo.bili;n.navigateTo({url:"/pages/Profile/".concat(t,"?m_id=").concat(o,"&scale=").concat(i)})},scanCode:function(){var t=this;n.scanCode({success:function(e){""!==e.result&&(0,i.useScan)({id:e.result,m_id:t.m_id}).then((function(t){n.showLoading({title:"正在处理"});var e=setTimeout((function(){n.showToast({title:"核销成功",success:function(){clearTimeout(e)}})}),2e3)})).catch((function(t){console.log(t+"扫码报错"),n.showToast({title:t,icon:"none"})}))},fail:function(t){n.showToast({title:t,icon:"none"})}})},launchEvent:function(){var t=n.getStorageSync("m_id");return""===t||void 0===t?this.isShow=!0:this.userInfo.duiyuan&&1==this.userInfo.duiyuan?n.showToast({title:"队员无此权限",icon:"none"}):this.userInfo.merchants_status&&0==this.userInfo.merchants_status?n.showModal({title:"提示",content:"只有商户才能发红包/劵",confirmText:"去申请",success:function(e){e.confirm&&n.navigateTo({url:"/pages/Profile/merchant?m_id="+t})}}):void n.navigateTo({url:"/pages/Profile/launch-event?m_id="+t})},jumpLogin:function(){var t=this;n.navigateTo({url:"/pages/Profile/login",success:function(){t.isShow=!1}})},myTeam:function(){var t=n.getStorageSync("m_id");return""===t||void 0===t?this.isShow=!0:this.userInfo.duiyuan&&1==this.userInfo.duiyuan?n.showToast({title:"抱歉,队员无此权限",icon:"none"}):this.userInfo.dai_status&&0==this.userInfo.dai_status?n.showModal({title:"提示",content:"您还不是代理,暂不能进入我的团队",confirmText:"去申请",success:function(e){e.confirm&&n.navigateTo({url:"/pages/Profile/proxy?m_id="+t})}}):void n.navigateTo({url:"/pages/Profile/agency/agencyTeam?m_id="+t})}}};t.default=a}).call(this,e("543d")["default"])},bc71:function(n,t,e){"use strict";e.r(t);var o=e("10df"),i=e("0f06");for(var u in i)"default"!==u&&function(n){e.d(t,n,(function(){return i[n]}))}(u);e("c317");var s,r=e("f0c5"),a=Object(r["a"])(i["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],s);t["default"]=a.exports},c317:function(n,t,e){"use strict";var o=e("55d4"),i=e.n(o);i.a}},[["721b","common/runtime","common/vendor"]]]);